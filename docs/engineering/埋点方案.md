## 实现方案

* 代码埋点

* 可视化埋点

* 无痕埋点

  

## 代码埋点

嵌入代码的形式埋点，比如点击事件或者接口请求中主动调用埋点SDK上报页面访问数据。

优点：可以在任何时间任何地方发送精确的自定义数据信息

缺点：需要手动注入代码，工作量较大，比较繁琐

## 可视化埋点

用可视化交互的手段代理手动代码埋点，将业务代码与埋点代码分离，提供可视化交互页面，任何管理员都能手动选择埋点页面埋点类型，将业务代码中dom节点及埋点代码绑定输出成最终代码。实际就是用系统代替人员注入埋点代码。

优点：所见即所得，方便

缺点：耦合性及复杂度较高，不利于后期维护及定制。

## 无痕埋点

全部埋点，任意一个事件都被绑定一个标识，所有的事件都记录下来。定期上传记录日志，配合文件解析，解析出需要的数据，并生成可视化报告供专业人员分析统计。

优点：由于采集的是全量数据，所以产品迭代过程中是不需要关注埋点逻辑的，也不会出现漏埋、误埋等现象，耦合性小。

缺点：采集全量数据，给数据传输和服务器增加压力；无法灵活的定制各个事件所需要上传的数据



使用捕获事件方式注册全局埋点

```js
document.addEventListener('click',function(e){
  //获取唯一dom路径
  var id = getDomPath(e.target) //参考开源库 optimal-select
  _track_send(id,e.type)
})
```

